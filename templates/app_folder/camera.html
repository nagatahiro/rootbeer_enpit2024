<!DOCTYPE html>
<html lang="ja">
<head>
  <link rel="stylesheet" href="https://cccabinet.jpn.org/bootstrap4/css/style_camera.css">
</head>
<body>

<div class="container-fluid">
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid">
      <button id="back-button" class="btn btn-link">
        <i class="fas fa-arrow-left"></i> 
      </button>
      <span class="navbar-brand">{{ group.name }}：登録画面</span>
    </div>
  </nav>

  <!-- カメラ機能 -->
  <div class="camera-container">
    <video id="video" autoplay muted></video>
    <canvas id="canvas" style="display: none;"></canvas>
    <img id="preview" style="display: none;" alt="撮影画像のプレビュー">
    
    <!-- カメラコントロール -->
    <div class="camera-controls">
      <button id="capture-button" class="capture-btn"></button>
      <button id="retry-button" class="btn btn-warning control-btn" style="display: none;">再撮影</button>
      <button id="extract-button" class="btn btn-success control-btn" style="display: none;">文字抽出</button>
    </div>
    <div id="result" class="mt-4"></div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    startCamera();
  });

  const video = document.getElementById('video');
  const canvas = document.getElementById('canvas');
  const preview = document.getElementById('preview');
  const captureButton = document.getElementById('capture-button');
  const retryButton = document.getElementById('retry-button');
  const extractButton = document.getElementById('extract-button');
  const resultDiv = document.getElementById('result');
  const context = canvas.getContext('2d');
  let stream = null;

  // カメラの起動、停止、撮影、再撮影、文字抽出は元のコードと同様
  // ...
</script>

</body>
</html>
